{"ast":null,"code":"import _slicedToArray from\"/Users/johnzhou/Documents/GitHub/Simple-Tic-Tac-Toe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/Users/johnzhou/Documents/GitHub/Simple-Tic-Tac-Toe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/johnzhou/Documents/GitHub/Simple-Tic-Tac-Toe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/johnzhou/Documents/GitHub/Simple-Tic-Tac-Toe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/johnzhou/Documents/GitHub/Simple-Tic-Tac-Toe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import ReactDOM from'react-dom';import'./index.css';/*\nclass Square extends React.Component {\n\n  render() {\n    return (\n      <button \n        className=\"square\" \n        onClick={() => this.props.onClick()}\n      >\n        {this.props.value}\n      </button>\n    );\n  }\n}\n*/function Square(props){return/*#__PURE__*/React.createElement(\"button\",{className:\"square\",onClick:props.onClick,style:props.style},props.value);}var Board=/*#__PURE__*/function(_React$Component){_inherits(Board,_React$Component);var _super=_createSuper(Board);function Board(){_classCallCheck(this,Board);return _super.apply(this,arguments);}_createClass(Board,[{key:\"renderSquare\",/*\n  constructor(props) {\n    super(props);\n    this.state = {\n        squares: Array(9).fill(null),\n        xIsNext: true,\n    };\n  \n  }\n  */value:function renderSquare(i,styles){var _this=this;return/*#__PURE__*/React.createElement(Square,{value:this.props.squares[i],onClick:function onClick(){return _this.props.onClick(i);},style:styles});}//        <div className=\"status\">{status}</div>\n},{key:\"createBox\",value:function createBox(){//so things are really just arrays\nvar box=[];var regular_style={};var highlighted_style={background:'grey'//border: '1px solid #000'\n};for(var i=0;i<3;++i){var squares=[];for(var j=0;j<3;++j){var style=regular_style;//check if winner\nfor(var k=0;k<3;++k){if(this.props.winning_path&&j+i*3==this.props.winning_path[k]){style=highlighted_style;}}squares.push(this.renderSquare(j+i*3,style));}box.push(/*#__PURE__*/React.createElement(\"div\",null,squares));}return box;}},{key:\"render\",value:function render(){return(/*\n      <div>\n        <div className=\"board-row\">\n          {this.renderSquare(0)}\n          {this.renderSquare(1)}\n          {this.renderSquare(2)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(3)}\n          {this.renderSquare(4)}\n          {this.renderSquare(5)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(6)}\n          {this.renderSquare(7)}\n          {this.renderSquare(8)}\n        </div>\n      </div>\n*/this.createBox());}}]);return Board;}(React.Component);var Game=/*#__PURE__*/function(_React$Component2){_inherits(Game,_React$Component2);var _super2=_createSuper(Game);function Game(props){var _this2;_classCallCheck(this,Game);_this2=_super2.call(this,props);_this2.state={history:[{squares:Array(9).fill(null),clicked:null}],stepNumber:0,xIsNext:true,historyReverseOrder:false};return _this2;}_createClass(Game,[{key:\"handleClick\",value:function handleClick(i){var history=this.state.history.slice(0,this.state.stepNumber+1);var current=history[history.length-1];var squares_new=current.squares.slice();//makes a copy of the array\nif(calculateWinner(squares_new)||squares_new[i]){//no change if filled already\nreturn;}if(this.state.xIsNext){squares_new[i]='X';}else{squares_new[i]='O';}//squares_new[i] = this.state.xIsNext ? 'X' : 'O'; //cool syntax\nthis.setState({history:history.concat([{squares:squares_new,clicked:i}]),stepNumber:history.length,xIsNext:!this.state.xIsNext});}},{key:\"jumpTo\",value:function jumpTo(step){this.setState({stepNumber:step,xIsNext:step%2===0});}},{key:\"toggleOrder\",value:function toggleOrder(){this.setState({historyReverseOrder:!this.state.historyReverseOrder});}},{key:\"render\",value:function render(){var _this3=this;var history=this.state.history.slice(0,this.state.stepNumber+1);var current=history[this.state.stepNumber];var winner=calculateWinner(current.squares);var moves=history.map(function(step,move){//takes in item, and index\nvar last_move_str='('+row(step.clicked)+', '+col(step.clicked)+')';var desc=move?'Go to move #'+move+' '+last_move_str:'Go to game start';var styles={fontWeight:\"bold\"};//If last move, bold \nif(move==history.length-1){return/*#__PURE__*/React.createElement(\"li\",{key:move},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this3.jumpTo(move);},style:styles},desc));}return/*#__PURE__*/React.createElement(\"li\",{key:move},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this3.jumpTo(move);}},desc));});moves=this.state.historyReverseOrder?moves.reverse():moves;var status;if(winner&&winner.tie){status=\"Tie\";}else if(winner){status='Winner: '+winner.winner;}else{status='Next player: '+(this.state.xIsNext?'X':'O');}var winning_path=null;if(winner){winning_path=winner.winning_path;}return/*#__PURE__*/React.createElement(\"div\",{className:\"game\"},/*#__PURE__*/React.createElement(\"div\",{className:\"game-board\"},/*#__PURE__*/React.createElement(Board,{squares:current.squares,onClick:function onClick(i){return _this3.handleClick(i);},winning_path:winning_path})),/*#__PURE__*/React.createElement(\"div\",{className:\"game-info\"},/*#__PURE__*/React.createElement(\"div\",null,status),/*#__PURE__*/React.createElement(\"ol\",null,moves),/*#__PURE__*/React.createElement(\"button\",{id:\"toggle_order\",onClick:function onClick(){return _this3.toggleOrder();}},\"Toggle Order\"),/*#__PURE__*/React.createElement(\"button\",{id:\"reset_button\",onClick:function onClick(){return _this3.jumpTo(0);}},\"Reset\")));}}]);return Game;}(React.Component);// ========================================\nReactDOM.render(/*#__PURE__*/React.createElement(Game,null),document.getElementById('root'));function calculateWinner(squares){//Collection of potential winning paths\nvar paths=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];//For each path, check if a winner\nvar tie=true;for(var i=0;i<paths.length;++i){var _paths$i=_slicedToArray(paths[i],3),a=_paths$i[0],b=_paths$i[1],c=_paths$i[2];if(!(squares[a]&&squares[b]&&squares[c])){tie=false;}if(squares[a]&&squares[a]===squares[b]&&squares[a]===squares[c]){return{winning_path:paths[i],winner:squares[a],tie:false//'X' or 'O'\n};}}if(tie){return{winning_path:null,winner:null,tie:true};}return null;}function row(square){return Math.floor(square/3)+1;}function col(square){return square%3+1;}","map":{"version":3,"sources":["/Users/johnzhou/Documents/GitHub/Simple-Tic-Tac-Toe/src/index.js"],"names":["React","ReactDOM","Square","props","onClick","style","value","Board","i","styles","squares","box","regular_style","highlighted_style","background","j","k","winning_path","push","renderSquare","createBox","Component","Game","state","history","Array","fill","clicked","stepNumber","xIsNext","historyReverseOrder","slice","current","length","squares_new","calculateWinner","setState","concat","step","winner","moves","map","move","last_move_str","row","col","desc","fontWeight","jumpTo","reverse","status","tie","handleClick","toggleOrder","render","document","getElementById","paths","a","b","c","square","Math","floor"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\n/*\nclass Square extends React.Component {\n\n  render() {\n    return (\n      <button \n        className=\"square\" \n        onClick={() => this.props.onClick()}\n      >\n        {this.props.value}\n      </button>\n    );\n  }\n}\n*/\n\nfunction Square(props) {\n  return(\n    <button className=\"square\" onClick={props.onClick} style={props.style}>\n      {props.value}\n    </button>\n  )\n}\n\nclass Board extends React.Component {\n  /*\n  constructor(props) {\n    super(props);\n    this.state = {\n        squares: Array(9).fill(null),\n        xIsNext: true,\n    };\n  \n  }\n  */\n\n\n  renderSquare(i, styles) {\n    return (\n        <Square \n            value={this.props.squares[i]} \n            onClick={() => this.props.onClick(i)}\n            style={styles}\n        />\n    );\n  }\n//        <div className=\"status\">{status}</div>\n\ncreateBox() { //so things are really just arrays\n  let box = [];\n\n  const regular_style = {};\n  const highlighted_style = {\n    background: 'grey',\n    //border: '1px solid #000'\n  }\n\n\n  for (let i = 0; i < 3; ++i) {\n    let squares = [];\n\n    for (let j = 0; j < 3; ++j) {\n      let style = regular_style;\n\n      //check if winner\n      for (let k = 0; k < 3; ++k) {\n        if ((this.props.winning_path) && ((j + i * 3) == this.props.winning_path[k])) {\n          style = highlighted_style;\n        }\n      }\n\n      squares.push(this.renderSquare((j + i * 3), style));\n    }\n\n    box.push(<div>{squares}</div>);\n\n  }\n\n  return box;\n}\n\n  render() {\n    return (\n      /*\n      <div>\n        <div className=\"board-row\">\n          {this.renderSquare(0)}\n          {this.renderSquare(1)}\n          {this.renderSquare(2)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(3)}\n          {this.renderSquare(4)}\n          {this.renderSquare(5)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(6)}\n          {this.renderSquare(7)}\n          {this.renderSquare(8)}\n        </div>\n      </div>\n*/\n      this.createBox()\n      \n    );\n  }\n}\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history: [{\n        squares: Array(9).fill(null),\n        clicked: null,\n      }],\n      stepNumber: 0,\n      xIsNext: true,\n      historyReverseOrder: false,\n    };\n  }\n\n  handleClick(i) {\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    const current = history[history.length - 1];   \n\n    const squares_new = current.squares.slice(); //makes a copy of the array\n    if (calculateWinner(squares_new) || squares_new[i]) { //no change if filled already\n      return;\n    }\n\n    if (this.state.xIsNext) {\n      squares_new[i] = 'X';\n    } else {\n      squares_new[i] = 'O';\n    }\n\n    //squares_new[i] = this.state.xIsNext ? 'X' : 'O'; //cool syntax\n    this.setState({history: history.concat([{\n      squares: squares_new,\n      clicked: i,\n    }]),\n      stepNumber: history.length,\n      xIsNext: !this.state.xIsNext,});\n  }\n\n  jumpTo(step) {\n    this.setState({\n      stepNumber: step,\n      xIsNext: (step % 2) === 0,\n    });\n  }\n\n  toggleOrder() {\n    this.setState({\n      historyReverseOrder: !this.state.historyReverseOrder,\n    });\n  }\n\n  render() {\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    const current = history[this.state.stepNumber];\n    const winner = calculateWinner(current.squares);\n\n\n    let moves = history.map((step, move) => { //takes in item, and index\n      const last_move_str = '(' + row(step.clicked) + ', ' + col(step.clicked) + ')';\n      let desc = move ?\n        'Go to move #' + move + ' ' + last_move_str:\n        'Go to game start';\n\n      const styles = {\n        fontWeight: \"bold\"\n      };\n\n      //If last move, bold \n      if (move == (history.length - 1)) {\n        return (\n          <li key={move}>\n            <button onClick={() => this.jumpTo(move)} style={styles}>{desc}</button>\n          </li>\n        )\n      }\n\n        return (\n          <li key={move}>\n            <button onClick={() => this.jumpTo(move)}>{desc}</button>\n          </li>\n\n        );\n    });\n\n    moves = this.state.historyReverseOrder ? moves.reverse() : moves;\n\n\n    let status;\n    if (winner && winner.tie) {\n      status = \"Tie\";\n    } else if (winner) {\n      status = 'Winner: ' + winner.winner;\n    } else {\n      status = 'Next player: ' + (this.state.xIsNext ? 'X' : 'O');\n    }\n\n    let winning_path = null;\n    if (winner) {\n      winning_path = winner.winning_path;\n    } \n\n    return (\n      <div className=\"game\">\n        <div className=\"game-board\">\n          <Board \n            squares={current.squares}\n            onClick={(i) => this.handleClick(i)}\n            winning_path={winning_path}\n          />\n        </div>\n        <div className=\"game-info\">\n          <div>{status}</div>\n          <ol>{moves}</ol>\n          <button id=\"toggle_order\" onClick={() => this.toggleOrder()}>Toggle Order</button>\n          <button id=\"reset_button\" onClick={() => this.jumpTo(0)}>Reset</button>\n        </div>\n      </div>\n    );\n  }\n}\n\n// ========================================\n\nReactDOM.render(\n  <Game />,\n  document.getElementById('root')\n);\n\nfunction calculateWinner(squares) {\n\n  //Collection of potential winning paths\n  const paths = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6],\n  ];\n\n  //For each path, check if a winner\n\n  let tie = true;\n\n  for (let i = 0; i < paths.length; ++i) {\n    const [a, b, c] = paths[i];\n\n    if (!(squares[a] && squares[b] && squares[c])) {\n      tie = false;\n    }\n\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      \n      return {\n        winning_path: paths[i],\n        winner: squares[a],\n        tie: false,\n         //'X' or 'O'\n      };\n\n    }\n  }\n\n  if (tie) {\n    return {\n      winning_path: null,\n      winner: null,\n      tie: true}\n  }\n\n  return null;\n}\n\nfunction row(square) {\n  return Math.floor(square / 3) + 1;\n}\n\nfunction col(square) {\n  return square % 3 + 1;\n}"]},"metadata":{},"sourceType":"module"}